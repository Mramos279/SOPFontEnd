<div *ngIf="Loadin" class="loading">
</div>

<p-toast [style]="{marginTop: '80px'}">
</p-toast>

<p-toast position="center" key="popupConfirm" (onClose)="onRedirect()" [modal]="true" [baseZIndex]="5000">
    <ng-template let-message pTemplate="message">

        <div style="text-align: center">
            <i class="pi pi-check" style="font-size: 3em"></i>
            <h3>{{message.summary}}</h3>
            <p>{{message.detail}}</p>
        </div>
        <div class="ui-g ui-fluid">
            <div class="ui-g-12">
                <button type="button" pButton (click)="onRedirect()" label="Ok" class="ui-button-success"></button>
            </div>
        </div>
    </ng-template>
</p-toast>

<div class="sufee-login d-flex align-content-center flex-wrap">
    <div class="container">
        <div class="login-content">
            <div class="login-logo">
                <a href="index.html">
                    <img class="align-content" src="/assets/images/login.png" style="margin-bottom: -55px;" alt="">
                </a>
            </div>
            <div class="login-form">
                <form [formGroup]="FormConfirm" (ngSubmit)="onSubmit()" autocomplete="off">
                    <div class="form-group">
                        <label>Recovery Code</label>
                        <div class="ui-inputgroup">
                            <span class="ui-inputgroup-addon"><i class="pi pi-unlock" style="line-height: 1.25;"></i></span>
                            <input type="text" pInputText formControlName="RecoveryCode" placeholder="Recovery Code" style=" width: 100%;">
                        </div>
                        <p-message severity="error" text="Recovery Code Required" *ngIf="!FormConfirm.controls['RecoveryCode'].valid&&FormConfirm.controls['RecoveryCode'].dirty"></p-message>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <div class="ui-inputgroup">
                            <span class="ui-inputgroup-addon">
                                <i class="pi pi-key" style="line-height: 1.25;"></i>
                            </span>
                            <input type="password" pInputText formControlName="NewPassword" placeholder="New Password" style="width: 100%;">
                        </div>
                        <p-message severity="error" text="The password must have at least 8 characters, 1 uppercase letter, 1 lowercase letter and 1 number, and 1 special character" *ngIf="!FormConfirm.controls['NewPassword'].valid&&FormConfirm.controls['NewPassword'].dirty"></p-message>
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <div class="ui-inputgroup">
                            <span class="ui-inputgroup-addon">
                                <i class="pi pi-key" style="line-height: 1.25;"></i>
                            </span>
                            <input type="password" pInputText formControlName="ConfirmPassword" placeholder="Confirm Password" style="width: 100%;">
                        </div>
                        <p-message severity="error" text="Confirm Pasword Required" *ngIf="!FormConfirm.controls['ConfirmPassword'].valid&& FormConfirm.controls['ConfirmPassword'].dirty"></p-message>
                    </div>
                    <div class="checkbox">
                        <label class="pull-right">
                            <a [routerLink]="['/Account/Login']" href="#">Login</a>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-success" [disabled]="!FormConfirm.valid">Confirm Change Password</button>
                </form>
            </div>
        </div>
    </div>
</div>